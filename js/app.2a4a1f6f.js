(function(t){function e(e){for(var r,o,i=e[0],l=e[1],s=e[2],f=0,b=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(b.length)b.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var l=n[i];0!==c[l]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},c={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/dynamic-table/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4141:function(t,e,n){"use strict";n("ea02")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=Object(r["f"])("div",{class:"fixed-top bg-secondary header"},"Динамическая таблица",-1),a={class:"container-fluid h-100"},o={class:"row h-100"},i=Object(r["f"])("div",{class:"col-2 sidebar bg-light"}," Sidebar ",-1),l={class:"col-10 offset-2 main"},s=Object(r["f"])("div",{class:"fixed-bottom bg-secondary footer"},"Footer",-1);function u(t,e,n,u,f,b){var d=Object(r["i"])("DynamicTable");return Object(r["g"])(),Object(r["c"])(r["a"],null,[c,Object(r["f"])("div",a,[Object(r["f"])("div",o,[i,Object(r["f"])("div",l,[f.content?(Object(r["g"])(),Object(r["c"])(d,{key:0,contentProps:f.content},null,8,["contentProps"])):Object(r["d"])("",!0)])])]),s],64)}var f=n("1da1"),b=(n("96cf"),n("ac1f"),n("841c"),n("99af"),{class:"d-flex mb-4"}),d={key:0,class:"table table-bordered table-hover"},p={class:"table-light"},j={class:"card bg-light mt-2 mb-2"},h={class:"card-body"};function O(t,e,n,c,a,o){return Object(r["g"])(),Object(r["c"])(r["a"],null,[Object(r["f"])("div",b,[Object(r["l"])(Object(r["f"])("input",{class:"form-control me-2",type:"text","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.requestString=t}),placeholder:"Поиск"},null,512),[[r["k"],a.requestString]]),Object(r["f"])("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=function(t){return o.search()})},"Поиск")]),a.content?(Object(r["g"])(),Object(r["c"])("table",d,[Object(r["f"])("thead",p,[Object(r["f"])("tr",null,[Object(r["f"])("th",{onClick:e[3]||(e[3]=function(t){return o.alphabetSort()}),class:"pointer"},"Марка и модель "+Object(r["j"])(a.alphabetSortDirectionStraight?"▼":"▲"),1),(Object(r["g"])(!0),Object(r["c"])(r["a"],null,Object(r["h"])(a.content.tariffs_list,(function(t){return Object(r["g"])(),Object(r["c"])("th",{key:t},Object(r["j"])(t),1)})),128))])]),Object(r["f"])("tbody",null,[(Object(r["g"])(!0),Object(r["c"])(r["a"],null,Object(r["h"])(a.content.cars,(function(t){return Object(r["g"])(),Object(r["c"])("tr",{key:t},[Object(r["f"])("td",null,Object(r["j"])(t.mark)+" "+Object(r["j"])(t.model),1),(Object(r["g"])(!0),Object(r["c"])(r["a"],null,Object(r["h"])(a.content.tariffs_list,(function(e){var n;return Object(r["g"])(),Object(r["c"])("td",{key:e,class:{pointer:t.tariffs[e]},onClick:function(){var n;t.tariffs[e]&&o.selectField("".concat(t.mark," ").concat(t.model," ").concat(null===(n=t.tariffs[e])||void 0===n?void 0:n.year))}},Object(r["j"])((null===(n=t.tariffs[e])||void 0===n?void 0:n.year)||"-"),11,["onClick"])})),128))])})),128))])])):Object(r["d"])("",!0),Object(r["f"])("div",j,[Object(r["f"])("div",h,[Object(r["e"])(Object(r["j"])(a.selectedField?"Выбран автомобиль ".concat(a.selectedField," года выпуска"):"Выберите автомобиль и год выпуска")+" ",1),a.selectedField?(Object(r["g"])(),Object(r["c"])("b",{key:0,onClick:e[4]||(e[4]=function(t){return o.selectField("")})},"[X]")):Object(r["d"])("",!0)])])],64)}var g=n("b85c"),v=n("5530"),y=(n("4de4"),n("07ac"),n("d3b7"),n("25f0"),n("498a"),n("1276"),n("caad"),n("2532"),n("4e82"),{data:function(){return{content:null,contentCopy:null,dataChanged:!1,alphabetSortDirectionStraight:!0,requestString:"",selectedField:""}},props:{contentProps:{type:Object,default:function(){return null}}},methods:{search:function(){var t=this;this.content=this.dataChanged?Object(v["a"])({},this.contentCopy):this.content,this.content.cars=this.content.cars.filter((function(e){for(var n=[e.mark,e.model],r=0,c=Object.values(e.tariffs);r<c.length;r++){var a=c[r];n.push(a.year.toString())}if(""===t.requestString.trim())return!0;var o,i=t.requestString.split(" "),l=Object(g["a"])(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;if(!n.includes(s))return!1}}catch(u){l.e(u)}finally{l.f()}return!0})),this.dataChanged=!0},selectField:function(t){this.selectedField=t},alphabetSort:function(){var t=this;this.content.cars.sort((function(e,n){var r="".concat(e.mark," ").concat(e.model).toLowerCase(),c="".concat(n.mark," ").concat(n.model).toLowerCase();if(t.alphabetSortDirectionStraight){if(r>c)return-1;if(r<c)return 1}else{if(r<c)return-1;if(r>c)return 1}return 0})),this.alphabetSortDirectionStraight=!this.alphabetSortDirectionStraight,this.dataChanged=!0}},created:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.content=Object(v["a"])({},t.contentProps),t.contentCopy=Object(v["a"])({},t.content);case 2:case"end":return e.stop()}}),e)})))()}});n("8929");y.render=O;var m=y,S={name:"App",components:{DynamicTable:m},data:function(){return{content:null}},created:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("https://city-mobil.ru/api/cars");case 2:t.content=e.sent.data;case 3:case"end":return e.stop()}}),e)})))()}};n("4141");S.render=u;var k=S,w=n("bc3a"),x=n.n(w),C=Object(r["b"])(k);C.config.globalProperties.axios=x.a,C.mount("#app")},8929:function(t,e,n){"use strict";n("cd54")},cd54:function(t,e,n){},ea02:function(t,e,n){}});
//# sourceMappingURL=app.2a4a1f6f.js.map